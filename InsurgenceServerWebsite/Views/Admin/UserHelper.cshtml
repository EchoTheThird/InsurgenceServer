@using InsurgenceServerWebsite.Models
@using InsurgenceServerWebsite.PokemonHelper
@model UserModel


@if (Model.UserRequest != null)
{
<link rel="stylesheet" href="/CSS/UserInfo.css" />
<div>
	<table> <tr><td>
	<table class="UserClass">
		<tr>
			<th  colspan="2">
				Name
			</th>
			<td colspan="2">
				@Html.DisplayFor(model => model.UserRequest.UserInfo.Username)
			</td>
		</tr>
		<tr>
			<th  colspan="2">
				ID
			</th>
			<td colspan="2">
				@Html.DisplayFor(model => model.UserRequest.UserInfo.User_Id)
			</td>
		</tr>
		<tr>
			<th  colspan="2">
				Banned
			</th>
				@if (Model.UserRequest.UserInfo.Banned)
				{
					<td class="Banned" colspan="2">true</td>
				}
				else
				{
					<td class="Free" colspan="2">false</td>
				}
		</tr>
        <tr>
            <th colspan="2">
                Last Logged In
            </th>
            <td>
                @Html.DisplayFor(model => model.UserRequest.UserInfo.LastLoggedIn)
            </td>
        </tr>
		<tr>
			<th colspan="4">
				Used IPs
			</th>
		</tr>
		<tr>
			<th  colspan="2">IP</th>
			<th>Banned</th>
			<th></th>
		</tr>
		@foreach (var ip in Model.UserRequest.IPs)
		{
			<tr>
				<td colspan="2">
					@ip.IP
				</td>
				@if (ip.Banned)
				{
					<td class="Banned">true</td>
					<td>
						<input type="button" title="BanAccount" value="Unban" onclick="location.href='@Url.Action("UnbanSingleIp", "Admin", new { id = @ip.IP, name = Model.UserRequest.UserInfo.Username })'" />
					</td>
				}
				else
				{
					<td class="Free">false</td>
					<td>
						<input type="button" title="BanAccount" value="Ban" onclick="location.href='@Url.Action("BanSingleIp", "Admin", new { id = @ip.IP, name = Model.UserRequest.UserInfo.Username })'" />
					</td>
				}
			</tr>
		}
		<tr><th colspan="4">Other Accounts on IP</th></tr>
		<tr><th>ID</th><th>Username</th><th>Banned</th></tr>
		@foreach (var alt in Model.UserRequest.Alts)
		{
			<tr>
				<td>
					@alt.User_Id
				</td>
				<td>
					@Html.ActionLink(alt.Username, "Users", "Admin", new { id = alt.Username }, null)
				</td>
				@if (alt.Banned)
				{
					<td class="Banned">true</td>
					<td>
						<input type="button" title="BanAccount" value="Unban" onclick="location.href='@Url.Action("UnbanAccount", "Admin", new { id = alt.Username, redir = Model.UserRequest.UserInfo.Username  })'" />
					</td>
				}
				else
				{
					<td class="Free">false</td>
					<td>
						<input type="button" title="BanAccount" value="Ban" onclick="location.href='@Url.Action("BanAccount", "Admin", new { id = alt.Username, redir = Model.UserRequest.UserInfo.Username })'" />
					</td>

				}
			</tr>
		}
        <tr>
            <th>Friend Safari</th>
            <td>
                @Html.DisplayFor(model => model.UserRequest.FriendSafari.Type)
            </td>
            <td colspan="2">
                @Html.DisplayFor(model => model.UserRequest.FriendSafari.GetCleanPokemon)
            </td>
        </tr>
	</table>
		</td><td style="vertical-align: top">
	<table>
		<tr>
			<th colspan="4">
				Tradelog
			</th>
		</tr>
		@foreach (var trade in Model.UserRequest.Trades)
		{
			<tr>
				<th>@trade.User1</th>
				<td>
					<table style="width:100%;     height: 50px;">
						<tr>
							<td style="width:32%; max-width:32%;">@PokemonHelper.GetPokemonName(trade.Pokemon1.Species)</td>
                            <td>@trade.Pokemon1.ID</td>
							@if (trade.Pokemon1.Shiny)
							{
								<td class="shiny" style="max-width:10%; width:10%">Shiny</td>
							}
							else
							{
								<td class="nonshiny" style="max-width:10%; width:10%">Bland</td>
							}
							<td style="width:20%; max-width:20%">OT: @trade.Pokemon1.OT</td>
							<td style="width:38%; max-width:38%">Item: @ItemHelper.GetItemName(@trade.Pokemon1.Item)</td>
						</tr>
					</table>
				</td>
				<td>
					<table style="width:100%;     height: 50px;">
						<tr>
							<td style="width:32%; max-width:32%;">@PokemonHelper.GetPokemonName(trade.Pokemon2.Species)</td>
                            <td>@trade.Pokemon2.ID</td>
							@if (trade.Pokemon2.Shiny)
							{
								<td class="shiny" style="max-width:10%; width:10%">Shiny</td>
							}
							else
							{
								<td class="nonshiny" style="max-width:10%; width:10%">Bland</td>
							}
							<td style="width:20%; max-width:20%">OT: @trade.Pokemon2.OT</td>
							<td style="width:38%; max-width:38%">Item: @ItemHelper.GetItemName(@trade.Pokemon2.Item)</td>
						</tr>
					</table>
				</td>
				<th>
					@Html.ActionLink(trade.User2, "Users", "Admin", new { id = trade.User2 }, null)
				</th>
			</tr>
		}
	</table>
	</td></tr></table>
	@if (Model.UserRequest.UserInfo.Banned)
	{
		<input type="button" title="BanAccount" value="Unban Account" onclick="location.href='@Url.Action("UnbanAccount", "Admin", new { id = Model.UserRequest.UserInfo.Username })'" />
	}

	else
	{
		<input type="button" title="BanAccount" value="Ban Account" onclick="location.href='@Url.Action("BanAccount", "Admin", new { id = Model.UserRequest.UserInfo.Username })'" />
	}

	<input type="button" title="BanAccount" value="Ban IPs" onclick="location.href='@Url.Action("BanIPs", "Admin", new { id = Model.UserRequest.UserInfo.User_Id })'" />
	<input type="button" title="BanAccount" value="Unban IPs" onclick="location.href='@Url.Action("UnbanIPs", "Admin", new { id = Model.UserRequest.UserInfo.User_Id })'" />
	<input type="button" title="BanAccount" value="Ban Alts" onclick="location.href='@Url.Action("BanAlts", "Admin", new { id = Model.UserRequest.UserInfo.User_Id })'" />
	<input type="button" title="BanAccount" value="Unban Alts" onclick="location.href='@Url.Action("UnbanAlts", "Admin", new { id = Model.UserRequest.UserInfo.User_Id })'" />

</div>
}